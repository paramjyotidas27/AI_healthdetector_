<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>AI Health Analyzer ‚Äî 45+ Questions Edition</title>
<style>
:root{
  --bg:#f6f9ff; --card:#ffffff; --blue1:#007bff; --blue2:#4cc3ff;
  --muted:#6b7280; --accent:#e8f4ff; --danger:#e74c3c; --cap:85; --glass: rgba(255,255,255,0.6);
}
*{box-sizing:border-box;font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#f4f8ff 0%, #eef6ff 100%);color:#112}
header{background:linear-gradient(90deg,var(--blue1),var(--blue2));padding:48px 20px;color:white;text-align:center;box-shadow:0 8px 30px rgba(6,20,60,0.12);}
header h1{font-size:28px;margin:0 0 8px;font-weight:800;letter-spacing:0.3px}
header p{margin:0;color:rgba(255,255,255,0.95);font-size:15px}
main{max-width:1200px;margin:-30px auto 60px;padding:0 18px;display:grid;grid-template-columns:1fr 420px;gap:20px}
@media(max-width:980px){main{grid-template-columns:1fr;padding:0 12px} .aside{order:2}}
.card{background:var(--card);border-radius:16px;padding:18px;box-shadow:0 10px 30px rgba(8,18,40,0.06);overflow:hidden;}
.section-title{color:var(--blue1);font-weight:800;margin-bottom:10px;font-size:16px}
label{display:block;margin-top:12px;color:var(--blue1);font-weight:600}
.row{display:flex;gap:12px}.row>div{flex:1}
input[type="text"], input[type="number"], select, textarea{
width:100%;padding:10px;border-radius:10px;border:1px solid #e6f4ff;background:transparent;font-size:0.95rem;margin-top:6px;transition:box-shadow .18s, border-color .18s;}
input:focus, select:focus, textarea:focus{box-shadow:0 6px 20px rgba(76,195,255,0.12);border-color:var(--blue1);outline:none}
.sym-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
@media(max-width:640px){.sym-grid{grid-template-columns:1fr}}
.sym{background:linear-gradient(180deg,#fff,#fbfdff);padding:10px;border-radius:12px;border:1px solid #eef6ff;display:flex;align-items:center;justify-content:space-between}
.sym select{width:100px;border-radius:8px;padding:6px}
.counter{display:flex;align-items:center;gap:10px;margin-top:8px}
.counter button{background:var(--blue1);color:white;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
.counter .num{min-width:48px;text-align:center;padding:6px 8px;border-radius:8px;background:#f4fbff;border:1px solid #e6f4ff}
.btn{background:linear-gradient(90deg,var(--blue1),var(--blue2));color:white;border:none;padding:12px 18px;border-radius:12px;font-weight:800;cursor:pointer;margin-top:14px;box-shadow:0 8px 30px rgba(76,195,255,0.12)}
.btn:active{transform:translateY(1px)}
.btn[disabled]{opacity:0.5;cursor:not-allowed;box-shadow:none}
.small{font-size:0.9rem;color:var(--muted);margin-top:8px}
.meter-wrap{display:flex;flex-direction:column;align-items:center;gap:12px}
.gauge{width:210px;height:210px;position:relative}
.gauge svg{width:100%;height:100%;transform:rotate(-90deg)}
.gauge .center{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}
.gauge .center .big{font-size:30px;font-weight:900;color:var(--blue1);letter-spacing:0.6px}
.gauge .center .tiny{font-size:12px;color:var(--muted)}
.disease-cards{margin-top:10px;display:grid;gap:10px}
.d-card{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:12px;background:linear-gradient(180deg,#fff,#fcfeff);border:1px solid #eef7ff}
.d-left{display:flex;gap:12px;align-items:center}
.icon{width:44px;height:44px;border-radius:10px;background:#f0fbff;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--blue1)}
.d-name{font-weight:800;color:#0b2540}
.pct{font-weight:900;color:var(--blue1);font-size:18px}
.bar{height:8px;background:#eef6ff;border-radius:8px;overflow:hidden;margin-top:8px}
.bar .fill{height:100%;width:0;background:linear-gradient(90deg,#55a7ff,#56e0ff);transition:width 1.3s cubic-bezier(.2,.9,.2,1)}
.d-note{font-size:13px;color:var(--muted);margin-top:6px}
.urgent{margin-top:12px;background:#fff0f0;border-left:4px solid var(--danger);padding:12px;border-radius:10px;color:var(--danger);font-weight:800}
.links{margin-top:12px;font-size:14px}
.links a{color:var(--blue1);text-decoration:none;font-weight:700}
.popup{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1600;background:rgba(2,6,23,0.35);backdrop-filter:blur(4px)}
.modal{background:rgba(255,255,255,0.9);padding:18px;border-radius:12px;width:92%;max-width:520px;box-shadow:0 12px 40px rgba(5,9,25,0.28)}
.modal h3{color:var(--blue1);margin:0 0 8px}
.modal p{color:#111;font-size:14px}
.modal textarea{width:100%;height:110px;padding:10px;border-radius:8px;border:1px solid #e6f4ff;margin-top:8px}
.modal .actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
footer{text-align:center;padding:18px;color:var(--muted);font-size:13px}
.fade-in{animation:fadeIn .6s ease both}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:none}}
</style>
</head>
<body>

<header>
  <h1>AI Health Detector - Neglected_diseases</h1>
  <p>Estimate risk for TB ‚Ä¢ Diabetes ‚Ä¢ Anemia ‚Ä¢ Dengue ‚Ä¢ Chickenpox/Chikungunya ‚Äî detailed & private.</p>
  <a href="index.html" class="btn" style="margin-top:12px;display:inline-block">üè† Home</a>
</header>

<main>
  <!-- LEFT: form -->
  <div class="card">
    <div class="section-title">Tell us about yourself</div>
    <label>Name (optional)</label>
    <input id="name" type="text" placeholder="Your name (optional)" />

    <div class="row">
      <div>
        <label>Age</label>
        <input id="age" type="number" min="0" max="120" placeholder="e.g., 28" />
      </div>
      <div>
        <label>Gender</label>
        <select id="gender">
          <option value="">Select</option>
          <option value="female">Female</option>
          <option value="male">Male</option>
          <option value="other">Other</option>
        </select>
      </div>
    </div>

    <label>State / Region</label>
    <select id="state">
      <option value="">Select state</option>
      <option>Maharashtra</option><option>Delhi</option><option>Uttar Pradesh</option>
      <option>West Bengal</option><option>Assam</option><option>Karnataka</option>
      <option>Tamil Nadu</option><option>Gujarat</option><option>Kerala</option>
      <option>Rajasthan</option><option>Bihar</option><option>Other</option>
    </select>

    <div style="height:12px"></div>
    <div class="section-title">Symptoms & Exposures (Yes / No)</div>
    <div class="sym-grid" id="symGrid"></div>

    <div style="height:12px"></div>
    <div class="section-title">Lifestyle & Habits</div>
    <div class="row">
      <div><label>Sleep (hrs/night)</label><input id="sleep" type="number" min="0" max="24" placeholder="7" /></div>
      <div><label>Water intake (cups/day)</label><input id="water" type="number" min="0" max="20" placeholder="6" /></div>
    </div>
    <label>Diet</label>
    <select id="diet">
      <option value="">Select</option>
      <option value="balanced">Balanced</option>
      <option value="mixed">Mixed</option>
      <option value="junk">Mostly fast/junk food</option>
    </select>
    <label>Exercise frequency</label>
    <select id="exercise">
      <option value="">Select</option>
      <option value="daily">Daily</option>
      <option value="few">Few times a week</option>
      <option value="rare">Rarely</option>
      <option value="none">Never</option>
    </select>
    <div class="row" style="margin-top:8px">
      <div><label>Smoking / tobacco</label>
        <select id="smoke">
          <option value="">Select</option><option value="no">No</option><option value="occasional">Occasional</option><option value="yes">Yes</option>
        </select>
      </div>
      <div><label>Alcohol use</label>
        <select id="alcohol">
          <option value="">Select</option><option value="no">No</option><option value="occasional">Occasional</option><option value="yes">Yes</option>
        </select>
      </div>
    </div>
    <label>Vaccination status</label>
    <select id="vax">
      <option value="">Select</option>
      <option value="up_to_date">Up-to-date</option>
      <option value="partial">Partial</option>
      <option value="none">Not vaccinated</option>
    </select>
    <label>Family history</label>
    <select id="family">
      <option value="">Select</option>
      <option value="none">None</option>
      <option value="diabetes">Diabetes</option>
      <option value="tb">TB</option>
      <option value="anemia">Anemia</option>
      <option value="other">Other / multiple</option>
    </select>

    <div style="display:flex;gap:12px;margin-top:14px;align-items:center">
      <button id="analyzeBtn" class="btn">Analyze My Data</button>
      <div style="flex:1" class="small">Fill at least one symptom or lifestyle info. Partial input is OK ‚Äî results adapt.</div>
    </div>
    <div id="hint" class="small" style="margin-top:10px;color:var(--muted)">Pro tip: be honest ‚Äî the tool gives better guidance when inputs are accurate.</div>
  </div>

  <!-- RIGHT: results -->
  <aside class="aside card fade-in">
    <div class="meter-wrap">
      <div class="section-title">Live Result</div>
      <div class="gauge" id="gauge"></div>
      <div id="topNote" class="small" style="text-align:center;color:var(--muted)"></div>
      <div class="disease-cards" id="diseaseCards"></div>
      <div id="urgent" style="display:none" class="urgent">‚ö†Ô∏è Seek immediate medical consultation now.</div>
      <div class="links small">
        <div style="margin-top:12px"><strong>Consultation & resources</strong></div>
        <div style="margin-top:8px">
          TB: <a href="https://tbcindia.gov.in" target="_blank">National TB Elimination Programme</a><br>
          Diabetes: <a href="https://main.mohfw.gov.in" target="_blank">Ministry of Health ‚Äî NCD</a><br>
          Anemia: <a href="https://anemiamuktbharat.info" target="_blank">Anemia Mukt Bharat</a><br>
          Dengue/Chikungunya: <a href="https://nvbdcp.gov.in" target="_blank">NVBDCP</a><br>
          Local: <a href="https://smcassam.ac.in" target="_blank">Silchar Medical College (SMCH)</a> ‚Äî Phone: <strong>+91 3842-246100</strong>
        </div>
      </div>
      <div class="foot-note" style="margin-top:10px">Results are probability estimates ‚Äî get tested for confirmation.</div>
    </div>
  </aside>
</main>

<div id="feedbackPopup" class="popup" aria-hidden="true">
  <div class="modal">
    <h3>Share Feedback</h3>
    <p>Your feedback helps refine this tool. Anonymous unless name included.</p>
    <textarea id="feedbackText" placeholder="Type something helpful..."></textarea>
    <div class="actions">
      <button class="btn-ghost" onclick="closeFeedback()">‚úñ Close</button>
      <button class="share-btn" onclick="submitFeedback()">Submit Feedback</button>
    </div>
    <div id="fbThanks" style="display:none;margin-top:8px;color:var(--muted)">Thanks!</div>
  </div>
</div>

<footer>¬© 2025 AI Health detector - PM SHRI KV Silchar</footer>

<script>
const symptomList = [
  {id:'fever',label:'Fever'}, {id:'cough',label:'Persistent cough'}, {id:'rash',label:'Rash / Blisters'},
  {id:'fatigue',label:'Fatigue / Weakness'}, {id:'breath',label:'Shortness of breath'}, {id:'wloss',label:'Weight loss'},
  {id:'headache',label:'Headache / Migraine'}, {id:'vision',label:'Blurred vision / Tingling'}, {id:'nails',label:'Brittle nails / Hair loss'},
  {id:'bleed',label:'Easy bruising / bleeding'}, {id:'mosquito',label:'Mosquito exposure / stagnant water'},
  {id:'joint',label:'Joint / Muscle pain'}, {id:'appetite',label:'Poor appetite'}, {id:'nightSweats',label:'Night sweats'},
  {id:'lymph',label:'Swollen lymph nodes'}, {id:'nausea',label:'Nausea / Vomiting'}, {id:'vomit',label:'Vomiting'},
  {id:'skin',label:'Skin discoloration'}, {id:'diarrhea',label:'Diarrhea'}, {id:'constipation',label:'Constipation'},
  {id:'feverSpikes',label:'Frequent fever spikes'}, {id:'stress',label:'High stress levels'}, {id:'injury',label:'Recent injury / bruising'},
  {id:'hospital',label:'Recent hospital visit'}, {id:'immuno',label:'Immunosuppressive condition'}, {id:'travel',label:'Recent travel / contact with sick person'}
];

const symGrid = document.getElementById('symGrid');
symptomList.forEach(s=>{
  const div=document.createElement('div'); div.className='sym fade-in';
  div.innerHTML=`<div>${s.label}</div><select id="${s.id}"><option value="no">No</option><option value="yes">Yes</option></select>`;
  symGrid.appendChild(div);
});

const diseases=[{id:'tb',name:'Tuberculosis (TB)',icon:'ü´Å'},{id:'diabetes',name:'Diabetes',icon:'üç¨'},{id:'anemia',name:'Anemia',icon:'ü©∏'},{id:'chickenpox',name:'Chickenpox',icon:'ü¶†'},{id:'dengue',name:'Dengue / Chikungunya',icon:'ü¶ü'}];
const diseaseCards=document.getElementById('diseaseCards');
diseases.forEach(d=>{
  const el=document.createElement('div'); el.className='d-card fade-in'; el.id='card-'+d.id;
  el.innerHTML=`<div class="d-left"><div class="icon">${d.icon}</div><div class="d-name">${d.name}</div></div>
  <div><div class="pct" id="pct-${d.id}">0%</div><div class="bar"><div class="fill" id="fill-${d.id}"></div></div></div>`;
  diseaseCards.appendChild(el);
});

function createGauge(){
  const g=document.getElementById('gauge');
  g.innerHTML=`<svg viewBox="0 0 36 36"><circle cx="18" cy="18" r="15.9155" fill="none" stroke="#eef6ff" stroke-width="4"></circle><circle cx="18" cy="18" r="15.9155" fill="none" stroke="#007bff" stroke-width="4" stroke-dasharray="0,100"></circle></svg>
  <div class="center"><div class="big" id="gaugeValue">0%</div><div class="tiny">Overall Risk</div></div>`;
}

createGauge();

function animateGauge(targetPercent){
  targetPercent=Math.min(targetPercent,85);
  const circle=document.querySelector('#gauge circle:nth-child(2)');
  let current=0;
  function step(){
    current+=(targetPercent-current)*0.05;
    circle.setAttribute('stroke-dasharray',current+',100');
    document.getElementById('gaugeValue').innerText=Math.round(current)+'%';
    if(current<35) circle.setAttribute('stroke','#28a745');
    else if(current<60) circle.setAttribute('stroke','#ffc107');
    else circle.setAttribute('stroke','#dc3545');
    if(Math.abs(current-targetPercent)>0.5) requestAnimationFrame(step);
  }
  step();
}

function analyze(){
  const age=+document.getElementById('age').value||30;
  const gender=document.getElementById('gender').value;
  let totalScore=0;
  let diseaseScores={};
  diseases.forEach(d=>diseaseScores[d.id]=0);

  // Symptoms contributions
  symptomList.forEach(s=>{
    const val=document.getElementById(s.id).value;
    if(val==='yes') diseases.forEach(d=>diseaseScores[d.id]+=Math.floor(Math.random()*5)+2);
  });

  // Lifestyle factors
  const sleep=+document.getElementById('sleep').value||7;
  if(sleep<5)diseases.forEach(d=>diseaseScores[d.id]+=3);
  const water=+document.getElementById('water').value||6;
  if(water<3)diseases.forEach(d=>diseaseScores[d.id]+=2);
  const diet=document.getElementById('diet').value;
  if(diet==='junk')diseases.forEach(d=>diseaseScores[d.id]+=3);
  const exercise=document.getElementById('exercise').value;
  if(exercise==='none')diseases.forEach(d=>diseaseScores[d.id]+=3);

  // Age-based adjustment
  if(age<12)diseases.forEach(d=>diseaseScores[d.id]+=5);
  else if(age>50 && age<=70)diseases.forEach(d=>diseaseScores[d.id]+=8);
  else if(age>70)diseases.forEach(d=>diseaseScores[d.id]+=12);

  // Gender adjustment
  if(gender==='female'){diseaseScores.tb*=0.85; diseaseScores.diabetes*=0.85; diseaseScores.dengue*=0.85;}

  // Compute total & update
  let sum=0,max=0;
  diseases.forEach(d=>{
    let val=Math.min(Math.round(diseaseScores[d.id]),85);
    document.getElementById('pct-'+d.id).innerText=val+'%';
    document.getElementById('fill-'+d.id).style.width=val+'%';
    sum+=val; if(val>max)max=val;
  });
  let overall=Math.round(sum/diseases.length);
  animateGauge(overall);

  document.getElementById('topNote').innerText='Highest individual risk: '+max+'%';
  if(max>75)document.getElementById('urgent').style.display='block';
  else document.getElementById('urgent').style.display='none';
}

document.getElementById('analyzeBtn').addEventListener('click',analyze);
</script>

</body>
</html>


